(function(){var t,n,i,e,r,o,p,u={}.hasOwnProperty,s=function(t,n){function i(){this.constructor=t}for(var e in n)u.call(n,e)&&(t[e]=n[e]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},c=function(t,n){return function(){return t.apply(n,arguments)}};t=function(t){function i(){return n=i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.routes={"community/":"community"},i.prototype.community=function(){return(new Application.Views.Community).render()},i}(Backbone.Router),Application.router=new t,Application.Models.Organization=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.url=function(){return"https://api.github.com/orgs/"+this.id+"?client_id={{site.client_id}}&client_secret={{site.client_secret}}"},n.prototype.initialize=function(){return this.view=new Application.Views.Organization({model:this}),this.on("change:public_repos",this.collection.renderMeta)},n}(Backbone.Model),Application.Collections.Organizations=function(t){function n(){return this.renderMeta=c(this.renderMeta,this),e=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.model=Application.Models.Organization,n.prototype.initialize=function(t,n){return this.view=new Application.Views.Organizations({id:n.type}).render(),this.on("add",function(t){return this.view.$(".organizations").append(t.view.el),t.fetch()})},n.prototype["import"]=function(t){var n,i,e;for(i=0,e=t.length;e>i;i++)n=t[i],this.add({id:n});return this},n.prototype.public_repos=function(){return _.reduce(this.pluck("public_repos"),function(t,n){return null==n?0:t+n},0)},n.prototype.renderMeta=function(){return this.view.$(".meta .count").html(this.length),this.view.$(".meta .public_repos").html(this.public_repos())},n}(Backbone.Collection),Application.Views.Community=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.el=".community",n.prototype.render=function(){var t=this;return $.getJSON("{{ site.root }}organizations.json",function(n){var i,e,r;t.$el.html(""),r=[];for(e in n)i=n[e],r.push(Application.data[e]=new Application.Collections.Organizations(!1,{type:e})["import"](i));return r}),this},n}(Backbone.View),Application.Views.Organization=function(t){function n(){return this.render=c(this.render,this),o=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.tagName="li",n.prototype.className="organization",n.prototype.attributes=function(){return{id:this.model.get("id")}},n.prototype.initialize=function(){return this.model.on("change",this.render)},n.prototype.render=function(){return this.$el.html(Application.Templates.organization(this.model.toJSON())),this},n}(Backbone.View),Application.Views.Organizations=function(t){function n(){return this.render=c(this.render,this),p=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.className="type",n.prototype.attributes=function(){return{id:this.id}},n.prototype.humanize=function(){return this.id.replace(/_/g," ").replace(/(\w+)/g,function(t){return t.charAt(0).toUpperCase()+t.slice(1)})},n.prototype.render=function(){return this.$el.html(Application.Templates.organizations({id:this.id,name:this.humanize()})),this},n.prototype.initialize=function(){return $(".community").append(this.$el)},n}(Backbone.View)}).call(this);